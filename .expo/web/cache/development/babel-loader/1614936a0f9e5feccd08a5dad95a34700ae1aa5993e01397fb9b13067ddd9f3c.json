{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport CardPrevisao from \"./cardTempo\";\nimport TempoHoje from \"../componentes/TempoHoje.js\";\nvar x = 0;\nimport api2, { api } from \"../services/apiOneCall\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction GetCard(props) {\n  function unixToHour(unix) {\n    var timestamp = new Date(unix * 1000);\n    var formatted = timestamp;\n    var hours = formatted.getHours();\n    return hours;\n  }\n  if (unixToHour(props.data.hourly ? props.data.hourly[x].dt : null) % 2 != 0 && props.data.hourly ? props.data.hourly[x].dt : null != null) {\n    x++;\n  }\n  return _jsx(TouchableOpacity, {\n    onPress: props.status == 2 ? null : props.function,\n    children: _jsx(CardPrevisao, {\n      status: props.status,\n      txtHora: props.id == 0 ? \"Now\" : unixToHour(props.data.hourly ? props.data.hourly[x + props.id].dt : null) + \":00\",\n      corH: props.status == 2 ? \"#f4f4f4\" : \"#141414a3\",\n      corT: props.status == 2 ? \"#ffffff\" : \"#141414\",\n      txtTemperatura: props.id == 0 ? Math.round(props.data.current ? props.data.current.temp : null) + \"ยบ\" : Math.round(props.data.hourly ? props.data.hourly[x + props.id].temp : null) + \"ยบ\",\n      imgTempo: \"http://openweathermap.org/img/wn/\" + (props.id == 0 ? props.data.current ? props.data.current.weather[0].icon : null : props.data.hourly ? props.data.hourly[props.id + x].weather[0].icon : null) + \"@2x.png\"\n    })\n  });\n}\nexport default function ContainerPrevisao(props) {\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeCard = _useState4[0],\n    setActiveCard = _useState4[1];\n  var _useState5 = useState(api),\n    _useState6 = _slicedToArray(_useState5, 2),\n    url = _useState6[0],\n    setUrl = _useState6[1];\n  var _useState7 = useState([{\n      id: 0,\n      status: 2\n    }, {\n      id: 2,\n      status: 1\n    }, {\n      id: 4,\n      status: 1\n    }, {\n      id: 6,\n      status: 1\n    }, {\n      id: 8,\n      status: 1\n    }, {\n      id: 10,\n      status: 1\n    }, {\n      id: 12,\n      status: 1\n    }, {\n      id: 14,\n      status: 1\n    }, {\n      id: 16,\n      status: 1\n    }, {\n      id: 18,\n      status: 1\n    }, {\n      id: 20,\n      status: 1\n    }, {\n      id: 22,\n      status: 1\n    }]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    cards = _useState8[0],\n    setCards = _useState8[1];\n  var setActive = function setActive(index) {\n    cards.forEach(function (card) {\n      card.status = 1;\n    });\n    setCards(_toConsumableArray(cards), cards[index].status = 2);\n    setActiveCard(index * 2 + x);\n  };\n  useEffect(function () {\n    fetch(url).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setData(data);\n    });\n  }, [url]);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      setUrl(yield api2().then(function (response) {\n        return response;\n      }).then(function (data) {\n        return data;\n      }));\n    })();\n  }, []);\n  return _jsxs(_Fragment, {\n    children: [_jsx(TempoHoje, {\n      activeCard: activeCard\n    }), _jsx(View, {\n      style: styles.container,\n      children: _jsx(ScrollView, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        children: cards.map(function (card, index) {\n          return _jsx(GetCard, {\n            data: data,\n            id: card.id,\n            horario: card.horario,\n            status: card.status,\n            function: function _function() {\n              setActive(index);\n            }\n          }, card.id);\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: \"85%\",\n    height: \"11%\"\n  },\n  ScrollView: {\n    marginVertical: 0\n  },\n  CardNow: {\n    backgroundColor: \"#427BFF\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","ScrollView","TouchableOpacity","CardPrevisao","TempoHoje","x","api2","api","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","GetCard","props","unixToHour","unix","timestamp","Date","formatted","hours","getHours","data","hourly","dt","onPress","status","function","children","txtHora","id","corH","corT","txtTemperatura","Math","round","current","temp","imgTempo","weather","icon","ContainerPrevisao","_useState","_useState2","_slicedToArray","setData","_useState3","_useState4","activeCard","setActiveCard","_useState5","_useState6","url","setUrl","_useState7","_useState8","cards","setCards","setActive","index","forEach","card","_toConsumableArray","fetch","then","res","json","_asyncToGenerator","response","style","styles","container","horizontal","showsHorizontalScrollIndicator","map","horario","_function","create","width","height","marginVertical","CardNow","backgroundColor"],"sources":["D:/Test/WeatherApp/src/componentes/previsaoDuranteDia.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, StyleSheet, ScrollView,TouchableOpacity } from \"react-native\";\r\nimport CardPrevisao from \"./cardTempo\";\r\nimport TempoHoje from '../componentes/TempoHoje.js';\r\n\r\nvar x = 0;\r\n\r\n\r\nimport api2, { api } from \"../services/apiOneCall\";\r\n\r\n\r\n\r\n\r\nfunction GetCard(props) {\r\n  function unixToHour(unix) {\r\n    var timestamp = new Date(unix * 1000);\r\n    var formatted = timestamp;\r\n    var hours = formatted.getHours();\r\n    return hours;\r\n  }\r\n  if (\r\n    unixToHour(props.data.hourly ? props.data.hourly[x].dt : null) % 2 != 0 &&\r\n    props.data.hourly\r\n      ? props.data.hourly[x].dt\r\n      : null != null\r\n  ) {\r\n    x++;\r\n  }\r\n    return (\r\n      <TouchableOpacity onPress={props.status == 2 ? null : props.function}>\r\n      <CardPrevisao\r\n        status={props.status}\r\n        txtHora= {props.id == 0 ? \"Now\" : unixToHour(props.data.hourly ? props.data.hourly[x + props.id].dt : null) + \":00\"}\r\n        corH={props.status == 2 ? \"#f4f4f4\" : \"#141414a3\"}\r\n        corT={props.status == 2 ? \"#ffffff\" : \"#141414\"}\r\n        txtTemperatura={props.id == 0 ? Math.round(props.data.current ? props.data.current.temp : null) +\"ยบ\": Math.round(props.data.hourly ? props.data.hourly[x + props.id].temp : null) + \"ยบ\"}\r\n        imgTempo={`http://openweathermap.org/img/wn/${props.id == 0 ? props.data.current ? props.data.current.weather[0].icon : null : props.data.hourly? props.data.hourly[props.id + x].weather[0].icon\r\n        : null}@2x.png`}\r\n      />\r\n    </TouchableOpacity>\r\n    );\r\n\r\n  }\r\n\r\n\r\nexport default function ContainerPrevisao(props) {\r\n  const [data, setData] = useState({});\r\n  const [activeCard, setActiveCard] = useState(0);\r\n  const [url, setUrl] = useState(api);\r\n  const [cards, setCards] = useState([\r\n    { id: 0,  status: 2 },\r\n    { id: 2,  status: 1 },\r\n    { id: 4,  status: 1 },\r\n    { id: 6,  status: 1 },\r\n    { id: 8,  status: 1 },\r\n    { id: 10, status: 1 },\r\n    { id: 12, status: 1 },\r\n    { id: 14, status: 1 },\r\n    { id: 16, status: 1 },\r\n    { id: 18, status: 1 },\r\n    { id: 20, status: 1 },\r\n    { id: 22, status: 1 },\r\n  ]);\r\n\r\n  const setActive = (index) =>{\r\n    cards.forEach(card =>{\r\n      card.status=1\r\n    })\r\n  setCards([...cards],cards[index].status=2)\r\n  setActiveCard(index*2 + x)\r\n    }\r\n\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setData(data);\r\n      });\r\n  }, [url]);\r\n  useEffect(() => {\r\n\r\n    (async function () {\r\n      setUrl(\r\n        await api2()\r\n          .then((response) => response)\r\n          .then((data) => {\r\n            return data;\r\n          })\r\n      );\r\n    })();\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <TempoHoje activeCard={activeCard}/> \r\n    <View style={styles.container}>\r\n      <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n        {cards.map((card, index) => (\r\n          <GetCard\r\n            data={data}\r\n            id={card.id}\r\n            horario={card.horario}\r\n            key={card.id}\r\n            status={card.status}\r\n            function={()=>{setActive(index)}}\r\n          />\r\n        ))}\r\n      </ScrollView>\r\n    </View>\r\n    </>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"85%\",\r\n    height: \"11%\",\r\n  },\r\n  ScrollView: {\r\n    marginVertical: 0,\r\n  },\r\n  CardNow: {\r\n    backgroundColor: \"#427BFF\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}